<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="flex-container">
        <div class="title"><h1>SketchPad</h1></div>
        <div class="content">
            <div class="board"></div>
            <div class="buttons">
                <button onclick="changeColor('black')">Black</button>
                <button onclick="changeColor('white')">Eraser</button>
                <button onclick="changeColor('gray')">Gray</button>
                <button onclick="changeColor('random')">Random</button>
                <button onclick="resetBoard()">Reset</button>
            </div>
            <div>
                <input type="text" placeholder="Size of Board" value="16" onchange="changeSize(this.value)"/>
                <button>Set Size</button>
            </div>
        </div>
    </div>




    <!-- <div id="container"></div>
    <button onclick="playGame()">Use etch-a-sketch</button>
    <button onclick="grid()">Reset board</button> -->

    <script>
        let color = 'black';


        function populateBoard(size) {
            let board = document.querySelector('.board');
            let squares = board.querySelectorAll('div');
            squares.forEach((div) => div.remove());
            board.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
            board.style.gridTemplateRows = `repeat(${size}, 1fr)`;

            let amount = size * size;
            for (let i = 0; i < amount; i++) {
                let square = document.createElement('div');
                square.addEventListener('mouseover', colorSquare);
                square.style.backgroundColor = 'white';
                board.insertAdjacentElement('beforeend', square);
            };
        }

        populateBoard(16);

        function changeSize(input) {
            if (input >= 2 && input <= 100) {
                populateBoard(input);
            } else {
                alert('too many squares');
            }
        }

        function colorSquare() {
            if (color === 'random') {
                this.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            } else {
                this.style.backgroundColor = color;
            }
        }

        function changeColor(choice) {
            color = choice;
        }

        function resetBoard() {
            let board = document.querySelector('.board');
            let squares = board.querySelectorAll('div');
            squares.forEach((div) => div.style.backgroundColor = 'white');
        }

        // const container = document.getElementById('container');
        // let rows = document.getElementsByClassName('gridRow');
        // container.appendChild('rows');
        // let columns = document.getElementsByClassName('column');
        // container.appendChild('columns');


        
        // function defRows(rowNum) {
        //     let squares = container.querySelectorAll('div');
        //     squares.forEach((div) => div.remove());
        //     for (i = 0; i < rowNum; i++) {
        //         let row = document.createElement('div');
        //         container.appendChild(row).className = 'gridRow';
        //     };
        // };


        // function defColumns(columnNum) {
        //     for (i = 0; i < rows.length; i++) {
        //         for (c = 0; c < columnNum; c++) {
        //             let newColumn = document.createElement('div');
        //             rows[c].appendChild(newColumn).className = 'column';
        //         };
        //     };
        // };

        // function grid() {
        //     window.location.reload();
        // };

        // function playGame() {
        //         defRows(prompt('Enter number of rows here'));
        //         defColumns(prompt('Enter number of columns here'));
        // };



    </script>
</body>
</html>